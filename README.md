서로 다른 픽셀 크기의 스프라이트 시트에서 각각의 이미지를 인식해서 좌표값을 찍어내고, 각각의 이미지별로 잘라내기 위한 파이썬 코드.
나아가 각 픽셀별 이미지를 이어붙여 스프라이트 시트를 만들어내는 것까지를 목표로 한다.

cv2 를 사용하므로, gif 및 tiff 이미지는 사용불가.

좌표값 저장 방식은 아래 방식으로 저장하고, 유명한 프레임워크들에서 사용하는 방식대로 json을 만들어주는 모듈을 별도로 만드는 것을 목표로 한다.

### 좌표값 저장 방식
1. 좌측 상단 x, 좌측 상단 y, 우측 하단 x, 우측 하단 y
2. 시작 좌표 x, 시작 좌표 y, 너비 w, 높이 h
3. 객체 중심 x, 객체 중심 y, 너비 w, 높이 h

# split_frame_fixed.py : 픽셀 값과 패딩 값을 입력받아서 프레임별 이미지 추출
- param : width, height, padding=0
  - width : 픽셀의 너비
  - height : 픽셀의 높이
  - padding : (array) css 작성법과 동일하게 작동
    - 1개 : 4면 전부 적용
    - 2개 : 세로, 가로
    - 3개 : 위, 가로, 아래
    - 4개 : 위, 오른쪽, 아래, 왼쪽

규칙성을 갖고 제작된 스프라이트 시트에서 프레임별 이미지를 잘라내거나 구분하기 위함.
프레임별로 공백이 있을 경우, padding 값을 입력하여 간격 조율 가능.
나아가 width, height 값을 1개만 입력하면 동일한 값으로 작성되게 하거나, 하나의 스프라이트 시트에서 높이별로 다른 값을 입력받을 수 있게 하는 것도 목표.
스프라이트 시트 내에서 층별로 서로 다른 width나 height을 갖는 경우가 있을 수 있어서 필요하다면 구현 필요.

# split_frame_background.py : 동일 색상 배경 위에 프레임별 이미지 추출
- param : color_type, background_color=None, min_area=0
  - color_type : 탐지할 배경 색상 타입
    - "alpha" : 투명 배경일 경우, 무조건 투명도 0을 기준으로 체크 진행함
    - "gray" : 입력받은 color 값 중 첫번째(0 인덱스) 값만 비교, 채널값도 첫번째 값만 비교
    - "rgb" : rgb 순서로 입력받으므로, bgr 순서로 변경
              만약 채널값이 총 4개라면, 마지막 alpha 값으로 255 입력(불투명)
    - "rgba" : rgba 순서로 입력받으므로, bgra 순서로 변경
    - color_type 정의가 없거나, alpha를 제외한 모든 경우 color 값 지정이 안됐다면, 자동으로 가장 많은 색상값을 추출해서 배경색으로 간주하고 진행 (auto)
  - background_color : 배경 색상, alpha일 때는 영향을 받지 않고, 다른 경우에는 튜플로 입력받는다. gray일 때도 튜플로 입력받돼, 값을 1개만 입력받아도 무관.
  - min_area : 각 오브젝트 간 거리가 min_area보다 짧을 경우, 하나의 오브젝트로 간주한다.
              하나의 오브젝트 내에 배경 색상이 있을 경우, 서로 다른 오브젝트로 간주하는 상황을 해결하기 위한 파라미터.
              프레임 간 간격보다는 작게 설정해야한다. 

프레임별 이미지가 불규칙하게 배치되어 있을 경우 활용하기 위한 함수.
다만 이미지에 매우 fit하게 테두리 검출을 진행하므로 주의.

# AI 딥러닝 기법으로? 도전?

간단한 오브젝트 탐지 기법이 될 것, 단 기존 OD 모델 활용 시 많은 파인튜닝을 요하거나,
아니면 수많은 종류의 데이터를 토대로 완전히 새로 쌓아올리는게 좋을 듯

- 기대 가능한 장점
  - 사이가 비어있는 오브젝트에 대해서도 분리 가능
  - 복잡하고 다양한 모양에 대해서도 분리 가능
  - 사이가 비어있는 오브젝트가 연속적으로 붙어있을 경우에도 분리해주기를 기대
- 단점
  - 깔끔하지 못할 수 있다
  - 오래 걸릴 것이다
  - 무료 웹서비스로 런칭하지는 못 할 듯?

# 나눠진 프레임들을 합쳐주는 모듈
- param : **kwargs
  - num : (int)한 줄에 배치할 오브젝트의 수
  - stair : (array)각 row 별로 배치할 이미지의 수를 작성한 배열
  - padding : (array) css 작성법과 동일하게 작동(=0)
    - 1개 : 4면 전부 적용
    - 2개 : 세로, 가로
    - 3개 : 위, 가로, 아래
    - 4개 : 위, 오른쪽, 아래, 왼쪽
  - frame : (array) 합칠 이미지의 가로 세로 크기
  - bgc : (tuple) 백그라운드 색상. default=(255,255,255)
  - method : (top, bottom, center, right, left) frame에 맞춰서 이미지 크기를 조정할 때, 이미지를 위치시킬 방향 지정
    `top`은 이미지를 frame의 상단 중앙에 고정. `bottom`, `right`, `left` 동일.
    `center`는 이미지를 frame의 중앙에 고정.
  - padding : (array) css 작성법과 동일하게 작동
    - 1개 : 4면 전부 적용
    - 2개 : 세로, 가로
    - 3개 : 위, 가로, 아래
    - 4개 : 위, 오른쪽, 아래, 왼쪽

num과 stair는 하나만 작성 된다고 가정, 둘 다 작성될 경우 stair이 우선된다.

num은 한 줄에 들어갈 이미지 수로, 만약 입력 프레임이 10개인데 num=5라면, 위아래 2줄로 5개씩 배치된다.
만약 7개 입력이라면 1번째 줄 5개 이후 2번째 줄 2개까지만 진행된다.

stair는 배열 형태로 각 줄(row)마다 배치될 이미지 수를 지정한다.
[3,5,2,7] 로 입력받을 경우, 1번째줄 3개, 2번째줄 5개, 3번째줄 2개, 4번째줄 7개 이미지를 배치한다.
만약 입력된 이미지 수가 전체 배열 수보다 적다면 마지막 부분은 처리하지 않는다.
입력된 이미지 수가 전체 배열 수보다 많다면 수를 넘기는 이밈지는 배치하지 않는다.

padding은 입력된 간격만큼 간격을 넓혀서 배치해준다.

frame은 하나의 이미지의 가로 세로 크기를 결정해준다.
만약 입력받은 값이 없다면, 입력받은 이미지 중 가장 큰 높이와 너비를 기준으로 진행한다.
concat 함수가 합치려는 방향의 이미지 사이즈가 동일해야하여 지정해야하는 파라미터이다.

method는 frame에 맞춰 이미지 크기를 조정할 때, 조정된 이미지를 위치시킬 부분을 결정해주는 함수이다.
기본적으로 입력한 위치(변)의 중앙에 위치하는 걸 default로 하고, center는 frame의 정중앙에 현재 이미지의 center를 일치시킨다.